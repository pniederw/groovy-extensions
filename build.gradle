allprojects {
  apply plugin: "idea"
  
  group = "org.groovyext"
  version = "0.2-SNAPSHOT"
}

subprojects {
  apply plugin: "groovy"

  repositories {
    mavenCentral()
    maven {
        url "http://snapshots.repository.codehaus.org"
    }
    maven {
        url "http://m2repo.spockframework.org/snapshots"
    }
  }

  dependencies {
    groovy "org.codehaus.groovy:groovy-all:2.0.0-beta-3-SNAPSHOT"
  }
}

project(":groovyext") {
  apply plugin: "maven"

  uploadArchives {
    repositories.mavenDeployer {
      repository(url: "file:///var/www/m2repo/snapshots")
    }
  }
}

project(":tests") {
  dependencies {
    testCompile project(":groovyext")
    testCompile "org.spockframework:spock-core:0.6-groovy-2.0-SNAPSHOT"
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '1.0-milestone-7'
}